---
// FontSwitcher.astro - Temporary font testing component
---

<div id="font-switcher" class="fixed top-4 right-4 z-50 bg-black/90 backdrop-blur-sm border border-neutral-700 rounded-lg p-3 shadow-lg">
  <div class="text-xs text-neutral-400 mb-2 font-medium">Font Testing</div>
  <div class="flex gap-2 flex-wrap">
    <button 
      data-font="inter" 
      class="font-switch-btn px-3 py-1.5 text-xs bg-neutral-800 hover:bg-neutral-700 text-white rounded-md transition-colors duration-200 border border-neutral-600 hover:border-neutral-500"
    >
      Inter
    </button>
    <button 
      data-font="geist" 
      class="font-switch-btn px-3 py-1.5 text-xs bg-neutral-800 hover:bg-neutral-700 text-white rounded-md transition-colors duration-200 border border-neutral-600 hover:border-neutral-500"
    >
      Geist
    </button>
    <button 
      data-font="aeonik" 
      class="font-switch-btn px-3 py-1.5 text-xs bg-neutral-800 hover:bg-neutral-700 text-white rounded-md transition-colors duration-200 border border-neutral-600 hover:border-neutral-500"
    >
      Aeonik Pro
    </button>
    <button 
      data-font="suisse" 
      class="font-switch-btn px-3 py-1.5 text-xs bg-neutral-800 hover:bg-neutral-700 text-white rounded-md transition-colors duration-200 border border-neutral-600 hover:border-neutral-500"
    >
      SuisseIntl
    </button>
    <button 
      data-font="satoshi" 
      class="font-switch-btn px-3 py-1.5 text-xs bg-neutral-800 hover:bg-neutral-700 text-white rounded-md transition-colors duration-200 border border-neutral-600 hover:border-neutral-500"
    >
      Satoshi
    </button>
    <button 
      data-font="overused" 
      class="font-switch-btn px-3 py-1.5 text-xs bg-neutral-800 hover:bg-neutral-700 text-white rounded-md transition-colors duration-200 border border-neutral-600 hover:border-neutral-500"
    >
      Overused Grotesk
    </button>
  </div>
  <div class="text-xs text-neutral-500 mt-2">
    Current: <span id="current-font" class="text-neutral-300">Inter</span>
  </div>
</div>

<style>
  .font-switch-btn.active {
    @apply bg-violet-600 border-violet-500 text-white;
  }
</style>

<script>
  // Font switching functionality
  const fonts = {
    inter: {
      name: 'Inter',
      family: 'Inter, system-ui, sans-serif',
      css: `
        @font-face {
          font-family: 'Inter';
          src: url('/fonts/Inter[wght].woff2') format('woff2');
          font-weight: 100 900;
          font-style: normal;
          font-display: swap;
        }
      `
    },
    geist: {
      name: 'Geist',
      family: 'Geist, system-ui, sans-serif',
      css: `
        @font-face {
          font-family: 'Geist';
          src: url('/fonts/Geist[wght].woff2') format('woff2');
          font-weight: 100 900;
          font-style: normal;
          font-display: swap;
        }
      `
    },
    aeonik: {
      name: 'Aeonik Pro',
      family: 'Aeonik Pro, system-ui, sans-serif',
      css: `
        @font-face {
          font-family: 'Aeonik Pro';
          src: url('/fonts/AeonikPro-Light.woff2') format('woff2');
          font-weight: 300;
          font-style: normal;
          font-display: swap;
        }
        @font-face {
          font-family: 'Aeonik Pro';
          src: url('/fonts/AeonikPro-Regular.woff2') format('woff2');
          font-weight: 400;
          font-style: normal;
          font-display: swap;
        }
        @font-face {
          font-family: 'Aeonik Pro';
          src: url('/fonts/AeonikPro-Medium.woff2') format('woff2');
          font-weight: 500;
          font-style: normal;
          font-display: swap;
        }
        @font-face {
          font-family: 'Aeonik Pro';
          src: url('/fonts/AeonikPro-Bold.woff2') format('woff2');
          font-weight: 700;
          font-style: normal;
          font-display: swap;
        }
        @font-face {
          font-family: 'Aeonik Pro';
          src: url('/fonts/AeonikPro-Black.woff2') format('woff2');
          font-weight: 900;
          font-style: normal;
          font-display: swap;
        }
      `
    },
    suisse: {
      name: 'SuisseIntl',
      family: 'SuisseIntl, system-ui, sans-serif',
      css: `
        @font-face {
          font-family: 'SuisseIntl';
          src: url('/fonts/SuisseIntl-Regular.woff2') format('woff2');
          font-weight: 400;
          font-style: normal;
          font-display: swap;
        }
        @font-face {
          font-family: 'SuisseIntl';
          src: url('/fonts/SuisseIntl-Light.woff2') format('woff2');
          font-weight: 300;
          font-style: normal;
          font-display: swap;
        }
      `
    },
    satoshi: {
      name: 'Satoshi',
      family: 'Satoshi, system-ui, sans-serif',
      css: `
        @font-face {
          font-family: 'Satoshi';
          src: url('/fonts/Satoshi-Variable.woff2') format('woff2');
          font-weight: 100 900;
          font-style: normal;
          font-display: swap;
        }
      `
    },
    overused: {
      name: 'Overused Grotesk',
      family: 'Overused Grotesk, system-ui, sans-serif',
      css: `
        @font-face {
          font-family: 'Overused Grotesk';
          src: url('/fonts/OverusedGroteskRoman-VF.ttf') format('truetype');
          font-weight: 100 900;
          font-style: normal;
          font-display: swap;
        }
      `
    }
  };

  function switchFont(fontKey) {
    const font = fonts[fontKey];
    if (!font) return;

    // Remove existing font styles
    const existingStyle = document.getElementById('dynamic-font-style');
    if (existingStyle) {
      existingStyle.remove();
    }

    // Add new font styles
    const style = document.createElement('style');
    style.id = 'dynamic-font-style';
    style.textContent = font.css + `
      html, body {
        font-family: ${font.family} !important;
      }
    `;
    document.head.appendChild(style);

    // Update UI
    document.querySelectorAll('.font-switch-btn').forEach(btn => {
      btn.classList.remove('active');
    });
    document.querySelector(`[data-font="${fontKey}"]`).classList.add('active');
    document.getElementById('current-font').textContent = font.name;

    // Save preference
    localStorage.setItem('preferred-font', fontKey);
  }

  // Initialize font switcher
  document.addEventListener('DOMContentLoaded', () => {
    const buttons = document.querySelectorAll('.font-switch-btn');
    buttons.forEach(button => {
      button.addEventListener('click', () => {
        const fontKey = button.dataset.font;
        switchFont(fontKey);
      });
    });

    // Load saved preference or default to Inter
    const savedFont = localStorage.getItem('preferred-font') || 'inter';
    switchFont(savedFont);
  });
</script>
